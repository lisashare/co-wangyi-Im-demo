{"version":3,"sources":["webpack:///./src/pages/SysMsgs.vue?4521","webpack:///./src/pages/SysMsgs.vue","webpack:///./src/pages/SysMsgs.vue?af12","webpack:///./src/pages/SysMsgs.vue?0079","webpack:///./src/pages/SysMsgs.vue?3b61"],"names":["mounted","$store","dispatch","updated","data","sysType","defaultAvatar","defaultUserIcon","deleteIdServer","computed","userInfos","state","sysMsgs","filter","msg","type","showText","friend","alias","account","avatar","from","console","log","desc","getTeamName","to","attach","team","name","op","nick","sort","msg1","msg2","time","customSysMsgs","scene","content","JSON","parse","msgList","methods","deleteMsg","idServer","commit","clearMsgs","that","$vux","confirm","show","title","onConfirm","teamId","teamlist","find","handleTeamApply","pass","action","functionName","options","done","error","obj","findTeamInfo","item","showDelBtn","vNode","attrs","stopBubble","setTimeout","hideDelBtn"],"mappings":"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;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;AChLA;;AAEA;AACA,yWAA0M;AAC1M;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oIAAoI,qEAAqE;AACzM,6IAA6I,qEAAqE;AAClN;AACA;AACA,IAAI;AACJ;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C","file":"3.js","sourcesContent":["\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-1bf3ea74\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../../node_modules/vux-loader/src/after-less-loader.js!less-loader!../../node_modules/vux-loader/src/style-loader.js!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SysMsgs.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vux-loader/src/script-loader.js!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SysMsgs.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1bf3ea74\\\"}!../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../node_modules/vux-loader/src/template-loader.js!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SysMsgs.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"E:\\\\IM\\\\NIM_Web_Demo_H5-master\\\\src\\\\pages\\\\SysMsgs.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] SysMsgs.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-1bf3ea74\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-1bf3ea74\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/SysMsgs.vue\n// module id = 304\n// module chunks = 3","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport config from '../configs'\nexport default {\n  // 进入该页面，文档被挂载\n  mounted () {\n    this.$store.dispatch('markSysMsgRead')\n    this.$store.dispatch('markCustomSysMsgRead')\n  },\n  updated () {\n    this.$store.dispatch('markSysMsgRead')\n    this.$store.dispatch('markCustomSysMsgRead')\n  },\n  data () {\n    return {\n      sysType: 0, // 系统消息 0, 自定义消息 1,\n      defaultAvatar: config.defaultUserIcon,\n      deleteIdServer: ''\n    }\n  },\n  computed: {\n    userInfos () {\n      return this.$store.state.userInfos || {}\n    },\n    sysMsgs () {\n      let sysMsgs = this.$store.state.sysMsgs.filter(msg => {\n        switch (msg.type) {\n          case 'addFriend':\n            msg.showText = `${msg.friend.alias || msg.friend.account} 添加您为好友~`\n            msg.avatar = this.userInfos[msg.from] && this.userInfos[msg.from].avatar\n            return true\n          case 'deleteFriend':\n            msg.showText = `${msg.from} 将您从好友中删除`\n            msg.avatar = this.userInfos[msg.from].avatar\n            return false\n          case 'applyTeam':\n            console.log('applyTeam', msg)\n            msg.showText = msg.from\n            msg.avatar = this.userInfos[msg.from] && this.userInfos[msg.from].avatar || this.defaultAvatar\n            msg.desc = `申请加入群:${this.getTeamName(msg.to)}`\n            return true\n          case 'teamInvite':\n            msg.showText = msg.attach.team.name\n            msg.avatar = this.userInfos[msg.from] && this.userInfos[msg.from].avatar || this.defaultAvatar\n            msg.desc = `邀请你加入群${msg.to}`\n            return true\n          case 'rejectTeamApply':\n            msg.showText = msg.attach.team.name\n            msg.desc ='管理员拒绝你加入本群'\n            msg.avatar = msg.attach.team.avatar || this.defaultAvatar\n            return true\n          case 'rejectTeamInvite':\n            let op = this.userInfos[msg.from]\n            msg.showText = op.nick\n            msg.avatar = op.avatar || this.defaultAvatar\n            msg.desc = `${op.nick}拒绝了群${this.getTeamName(msg.to)}的入群邀请`\n            return true\n        }\n        console.log(msg)\n        return false\n      })\n      sysMsgs.sort((msg1, msg2)=>{\n        // 最新的排在前\n        return msg2.time - msg1.time\n      })\n      return sysMsgs\n    },\n    customSysMsgs () {\n      let customSysMsgs = this.$store.state.customSysMsgs.filter(msg => {\n        if (msg.scene === 'p2p') {\n          let content = JSON.parse(msg.content)\n          msg.showText = `${content.content}`\n          msg.avatar = this.userInfos[msg.from].avatar\n          return msg\n        }\n        return false\n      })\n      return customSysMsgs\n    },\n    msgList() {\n      return this.sysType ===  0 ? this.sysMsgs : this.customSysMsgs\n    }\n    \n  },\n  methods: {\n    deleteMsg(idServer){\n      this.$store.commit('deleteSysMsgs', {\n        type: this.sysType,\n        idServer: idServer,\n      })\n    },\n    clearMsgs () {\n      var that = this\n      this.$vux.confirm.show({\n        title: '确认要清空消息吗？',\n        onConfirm () {\n          that.$store.dispatch('resetSysMsgs', {\n            type: that.sysType\n          })\n        }\n      })\n    },\n    getTeamName(teamId) {\n      let team = this.$store.state.teamlist.find(team => {\n        return team.teamId === teamId\n      })\n      return team && team.name || ''\n    },\n    handleTeamApply(msg, pass) {\n      let action\n      switch (msg.type) {\n        case 'applyTeam':\n          action = pass ? 'passTeamApply' : 'rejectTeamApply'\n          break;\n         case 'teamInvite':\n          action = pass ? 'acceptTeamInvite' : 'rejectTeamInvite'\n          break;\n        default:\n          return\n      }\n      this.$store.dispatch('delegateTeamFunction', {\n        functionName: action, \n        options: {\n          idServer: msg.idServer,\n          teamId: msg.to,\n          from: msg.from,\n          done: (error, obj)=>{\n            console.log('handleDone', obj)\n          }\n        }\n      })\n    },\n    findTeamInfo(teamId) {\n      var team = this.$store.state.teamlist.find(item =>{\n        return item.teamId === teamId\n      })\n      return team && team.name || teamId\n    },\n    showDelBtn (vNode) {\n      if (vNode && vNode.data && vNode.data.attrs) {\n        this.deleteIdServer = vNode.data.attrs.idServer\n        this.stopBubble = true\n        setTimeout(() => {\n          this.stopBubble = false\n        }, 20)\n      }\n    },\n    hideDelBtn () {\n      if (this.deleteIdServer !== null && !this.stopBubble) {\n        // 用于判断是否前置状态是显示删除按钮\n        this.deleteIdServer = null\n        return true\n      }\n      return false\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/SysMsgs.vue","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.p-sysmsgs .u-list {\\n  height: 100%;\\n  overflow-y: scroll;\\n}\\n.p-sysmsgs p {\\n  word-wrap: normal;\\n  word-break: break-all;\\n  color: #333;\\n}\\n.p-sysmsgs .g-teamSys {\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: -moz-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-flex: 100;\\n  -webkit-flex-grow: 100;\\n     -moz-box-flex: 100;\\n      -ms-flex-positive: 100;\\n          flex-grow: 100;\\n  -webkit-box-pack: justify;\\n  -webkit-justify-content: space-between;\\n     -moz-box-pack: justify;\\n      -ms-flex-pack: justify;\\n          justify-content: space-between;\\n  -webkit-box-align: center;\\n  -webkit-align-items: center;\\n     -moz-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  overflow: hidden;\\n}\\n.p-sysmsgs .g-teamSys .m-info {\\n  -webkit-flex-shrink: 1;\\n      -ms-flex-negative: 1;\\n          flex-shrink: 1;\\n  overflow: hidden;\\n}\\n.p-sysmsgs .g-teamSys .m-info .u-time {\\n  color: #aaa;\\n}\\n.p-sysmsgs .g-teamSys .m-info .u-desc {\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  color: #aaa;\\n  font-size: 1rem;\\n}\\n.p-sysmsgs .g-teamSys .m-options {\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: -moz-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-align: center;\\n  -webkit-align-items: center;\\n     -moz-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n}\\n.p-sysmsgs .g-teamSys .m-options .weui-btn.weui-btn_mini {\\n  padding: 0;\\n  width: 3rem;\\n  height: 2rem;\\n}\\n.p-sysmsgs .g-teamSys .m-options .weui-btn + .weui-btn {\\n  margin-top: 0;\\n  margin-left: 0.5rem;\\n}\\n.p-sysmsgs .u-msg-state {\\n  color: #aaa;\\n  font-size: .9rem;\\n}\\n.p-sysmsgs .empty-hint {\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 5rem;\\n  margin: auto;\\n  text-align: center;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"E:/IM/NIM_Web_Demo_H5-master/src/pages/SysMsgs.vue\"],\"names\":[],\"mappings\":\";AAAA;EACE,aAAa;EACb,mBAAmB;CACpB;AACD;EACE,kBAAkB;EAClB,sBAAsB;EACtB,YAAY;CACb;AACD;EACE,qBAAc;EAAd,sBAAc;EAAd,kBAAc;EAAd,qBAAc;EAAd,cAAc;EACd,sBAAe;EAAf,uBAAe;KAAf,mBAAe;MAAf,uBAAe;UAAf,eAAe;EACf,0BAA+B;EAA/B,uCAA+B;KAA/B,uBAA+B;MAA/B,uBAA+B;UAA/B,+BAA+B;EAC/B,0BAAoB;EAApB,4BAAoB;KAApB,uBAAoB;MAApB,uBAAoB;UAApB,oBAAoB;EACpB,iBAAiB;CAClB;AACD;EACE,uBAAe;MAAf,qBAAe;UAAf,eAAe;EACf,iBAAiB;CAClB;AACD;EACE,YAAY;CACb;AACD;EACE,iBAAiB;EACjB,wBAAwB;EACxB,oBAAoB;EACpB,YAAY;EACZ,gBAAgB;CACjB;AACD;EACE,qBAAc;EAAd,sBAAc;EAAd,kBAAc;EAAd,qBAAc;EAAd,cAAc;EACd,0BAAoB;EAApB,4BAAoB;KAApB,uBAAoB;MAApB,uBAAoB;UAApB,oBAAoB;CACrB;AACD;EACE,WAAW;EACX,YAAY;EACZ,aAAa;CACd;AACD;EACE,cAAc;EACd,oBAAoB;CACrB;AACD;EACE,YAAY;EACZ,iBAAiB;CAClB;AACD;EACE,mBAAmB;EACnB,QAAQ;EACR,SAAS;EACT,UAAU;EACV,aAAa;EACb,mBAAmB;CACpB\",\"file\":\"SysMsgs.vue\",\"sourcesContent\":[\".p-sysmsgs .u-list {\\n  height: 100%;\\n  overflow-y: scroll;\\n}\\n.p-sysmsgs p {\\n  word-wrap: normal;\\n  word-break: break-all;\\n  color: #333;\\n}\\n.p-sysmsgs .g-teamSys {\\n  display: flex;\\n  flex-grow: 100;\\n  justify-content: space-between;\\n  align-items: center;\\n  overflow: hidden;\\n}\\n.p-sysmsgs .g-teamSys .m-info {\\n  flex-shrink: 1;\\n  overflow: hidden;\\n}\\n.p-sysmsgs .g-teamSys .m-info .u-time {\\n  color: #aaa;\\n}\\n.p-sysmsgs .g-teamSys .m-info .u-desc {\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  color: #aaa;\\n  font-size: 1rem;\\n}\\n.p-sysmsgs .g-teamSys .m-options {\\n  display: flex;\\n  align-items: center;\\n}\\n.p-sysmsgs .g-teamSys .m-options .weui-btn.weui-btn_mini {\\n  padding: 0;\\n  width: 3rem;\\n  height: 2rem;\\n}\\n.p-sysmsgs .g-teamSys .m-options .weui-btn + .weui-btn {\\n  margin-top: 0;\\n  margin-left: 0.5rem;\\n}\\n.p-sysmsgs .u-msg-state {\\n  color: #aaa;\\n  font-size: .9rem;\\n}\\n.p-sysmsgs .empty-hint {\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 5rem;\\n  margin: auto;\\n  text-align: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-1bf3ea74\",\"scoped\":false,\"hasInlineConfig\":true}!./~/vux-loader/src/after-less-loader.js!./~/less-loader/lib/loader.js!./~/vux-loader/src/style-loader.js!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/SysMsgs.vue\n// module id = 344\n// module chunks = 3","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"g-inherit m-article\"\n  }, [_c('x-header', {\n    staticClass: \"m-tab\",\n    attrs: {\n      \"left-options\": {\n        backText: ' '\n      }\n    }\n  }, [_c('button-tab', {\n    staticClass: \"m-tab-top\",\n    model: {\n      value: (_vm.sysType),\n      callback: function($$v) {\n        _vm.sysType = $$v\n      },\n      expression: \"sysType\"\n    }\n  }, [_c('button-tab-item', {\n    staticClass: \"u-tab-top\"\n  }, [_vm._v(\"系统消息\")])], 1), _vm._v(\" \"), _c('a', {\n    attrs: {\n      \"slot\": \"left\"\n    },\n    slot: \"left\"\n  }), _vm._v(\" \"), _c('a', {\n    attrs: {\n      \"slot\": \"right\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.stopPropagation();\n        _vm.clearMsgs($event)\n      }\n    },\n    slot: \"right\"\n  }, [_vm._v(\"清空\")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"m-article-main p-sysmsgs\"\n  }, [_c('group', {\n    staticClass: \"u-list\"\n  }, [_vm._l((_vm.msgList), function(msg) {\n    return [(msg.type === \"applyTeam\" || msg.type === \"teamInvite\") ? _c('cell', {\n      directives: [{\n        name: \"touch\",\n        rawName: \"v-touch:swipeleft\",\n        value: (_vm.showDelBtn),\n        expression: \"showDelBtn\",\n        arg: \"swipeleft\"\n      }, {\n        name: \"touch\",\n        rawName: \"v-touch:swiperight\",\n        value: (_vm.hideDelBtn),\n        expression: \"hideDelBtn\",\n        arg: \"swiperight\"\n      }],\n      key: msg.idServer,\n      staticClass: \"u-list-item\",\n      attrs: {\n        \"idServer\": msg.idServer\n      }\n    }, [_c('img', {\n      staticClass: \"icon\",\n      attrs: {\n        \"slot\": \"icon\",\n        \"width\": \"24\",\n        \"src\": msg.avatar\n      },\n      slot: \"icon\"\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"g-teamSys\",\n      attrs: {\n        \"slot\": \"child\"\n      },\n      slot: \"child\"\n    }, [_c('div', {\n      staticClass: \"m-info\"\n    }, [_c('span', {\n      staticClass: \"u-name\"\n    }, [_vm._v(_vm._s(msg.from))]), _vm._v(\" \"), _c('span', {\n      staticClass: \"u-time\"\n    }, [_vm._v(_vm._s(msg.showTime))]), _vm._v(\" \"), _c('p', {\n      staticClass: \"u-desc\"\n    }, [_vm._v(_vm._s(msg.desc))]), _vm._v(\" \"), (msg.ps) ? _c('p', {\n      staticClass: \"u-desc\"\n    }, [_vm._v(_vm._s((\"留言:\" + (msg.ps))))]) : _vm._e()]), _vm._v(\" \"), (_vm.deleteIdServer !== msg.idServer) ? _c('div', {\n      staticClass: \"m-options\",\n      attrs: {\n        \"slot\": \"default\"\n      },\n      slot: \"default\"\n    }, [(msg.state === \"init\") ? [_c('x-button', {\n      attrs: {\n        \"type\": \"primary\",\n        \"mini\": true,\n        \"action-type\": \"button\"\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.handleTeamApply(msg, true)\n        }\n      }\n    }, [_vm._v(\"同意\")]), _vm._v(\" \"), _c('x-button', {\n      attrs: {\n        \"type\": \"warn\",\n        \"mini\": true,\n        \"action-type\": \"button\"\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.handleTeamApply(msg, false)\n        }\n      }\n    }, [_vm._v(\"拒绝\")])] : _c('div', {\n      staticClass: \"u-msg-state\"\n    }, [_vm._v(\"\\n                \" + _vm._s(msg.state === 'error' ? '已过期' : msg.state === 'rejected' ? '已拒绝' : '已同意') + \"\\n              \")])], 2) : _vm._e()]), _vm._v(\" \"), _c('span', {\n      staticClass: \"u-tag-del\",\n      class: {\n        active: _vm.deleteIdServer === msg.idServer\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.deleteMsg(msg.idServer)\n        }\n      }\n    })]) : _c('cell', {\n      directives: [{\n        name: \"touch\",\n        rawName: \"v-touch:swipeleft\",\n        value: (_vm.showDelBtn),\n        expression: \"showDelBtn\",\n        arg: \"swipeleft\"\n      }, {\n        name: \"touch\",\n        rawName: \"v-touch:swiperight\",\n        value: (_vm.hideDelBtn),\n        expression: \"hideDelBtn\",\n        arg: \"swiperight\"\n      }],\n      key: msg.idServer,\n      staticClass: \"u-list-item\",\n      attrs: {\n        \"title\": msg.showText,\n        \"value\": msg.showTime,\n        \"inline-desc\": msg.desc,\n        \"idServer\": msg.idServer\n      }\n    }, [_c('img', {\n      staticClass: \"icon\",\n      attrs: {\n        \"slot\": \"icon\",\n        \"width\": \"24\",\n        \"src\": msg.avatar\n      },\n      slot: \"icon\"\n    }), _vm._v(\" \"), _c('span', {\n      staticClass: \"u-tag-del\",\n      class: {\n        active: _vm.deleteIdServer === msg.idServer\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.deleteMsg(msg.idServer)\n        }\n      }\n    })])]\n  })], 2), _vm._v(\" \"), (!_vm.msgList || _vm.msgList.length < 1) ? _c('div', {\n    staticClass: \"empty-hint\"\n  }, [_vm._v(\"暂无任何消息\")]) : _vm._e()], 1)], 1)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-1bf3ea74\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-1bf3ea74\"}!./~/vux-loader/src/before-template-compiler-loader.js!./~/vux-loader/src/template-loader.js!./~/vue-loader/lib/selector.js?type=template&index=0!./src/pages/SysMsgs.vue\n// module id = 352\n// module chunks = 3","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?sourceMap!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-1bf3ea74\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../../node_modules/vux-loader/src/after-less-loader.js!../../node_modules/less-loader/lib/loader.js!../../node_modules/vux-loader/src/style-loader.js!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./SysMsgs.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"667705bd\", content, false);\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/index.js?sourceMap!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-1bf3ea74\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../../node_modules/vux-loader/src/after-less-loader.js!../../node_modules/less-loader/lib/loader.js!../../node_modules/vux-loader/src/style-loader.js!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./SysMsgs.vue\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/index.js?sourceMap!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-1bf3ea74\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../../node_modules/vux-loader/src/after-less-loader.js!../../node_modules/less-loader/lib/loader.js!../../node_modules/vux-loader/src/style-loader.js!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./SysMsgs.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-1bf3ea74\",\"scoped\":false,\"hasInlineConfig\":true}!./~/vux-loader/src/after-less-loader.js!./~/less-loader/lib/loader.js!./~/vux-loader/src/style-loader.js!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/SysMsgs.vue\n// module id = 359\n// module chunks = 3"],"sourceRoot":""}